
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>éˆé­‚ç…§å¦–é¡</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;800&family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="css/universe_v922.css"/>
</head>
<body>
  <nav class="nav">
    <a href="index.html">é¦–é </a>
    <a href="cosmic-post-station.html">å®‡å®™éƒµå±€</a>
  </nav>

  <h1 class="big-title">éˆé­‚ç…§å¦–é¡ ğŸª</h1>
  <div class="sub-cn">ä¸€æ¬¡æŠ½å‡º 25 é¡Œï¼ˆå¾ 600 é¡Œåº«ï¼‰ï¼Œæäº¤å¾Œé€å…¥ A.I. åˆ†æä¸¦ç”Ÿæˆ 600 å­—è§£æï¼‹ä¸‰é³¥ä¸€å¥è©±ã€‚</div>

  <div class="sm-wrap" id="sm"></div>
  <div class="sm-wrap">
    <div class="input"><input id="free" placeholder="è£œå……ä¸€å¥ä½ çš„å¿ƒæƒ…ï¼ˆå¯ç•™ç©ºï¼‰"/><button id="smSend">é€å‡ºåˆ†æ</button></div>
    <div id="smResult" class="msg" style="display:none;"></div>
  </div>

  <script>
    // demo questions placeholder (æœƒéš¨ä½ çš„ questions.json æ“´å……)
    const pool = Array.from({length: 600}, (_,i)=> `å•é¡Œ ${i+1}ï¼šè«‹å¯«ä¸‹ä½ åœ¨å®‡å®™ä¸­æœ€æƒ³å®ˆä½çš„ä¸€ä»¶äº‹ï¼Ÿ`);
    const cont = document.getElementById('sm');
    const picks = [];
    while(picks.length<25){
      const i = Math.floor(Math.random()*pool.length);
      if(!picks.includes(i)) picks.push(i);
    }
    picks.forEach((idx,k)=>{
      const q = document.createElement('div'); q.className='q'; 
      q.innerHTML = `<label>${k+1}. ${pool[idx]}</label>
      <select>
        <option>éå¸¸ä¸åŒæ„</option><option>ä¸åŒæ„</option><option>ä¸­ç«‹</option><option>åŒæ„</option><option>éå¸¸åŒæ„</option>
      </select>`;
      cont.appendChild(q);
    });
    document.getElementById('smSend').addEventListener('click', async ()=>{
      const res = document.getElementById('smResult'); res.style.display='block'; res.innerHTML = '<div class="who">åˆ†æä¸­â€¦</div><div class="txt">è«‹ç¨å€™ï¼Œæ­£åœ¨å•Ÿå‹•æ˜Ÿç’°è§£æã€‚</div>';
      try{
        const r = await fetch('/api/chat', { method:'POST', headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ message: 'è«‹ä»¥å¤§ä¸‰å·´ä¸‰é³¥äººæ ¼é¢¨æ ¼ï¼Œæ ¹æ“š 25 é¡Œä½œç­”ï¼ˆç¤ºæ„ï¼‰ï¼Œç”¢ç”Ÿ 600 å­—æ·±åº¦åˆ†æï¼Œæœ€å¾Œç‚ºé˜¿é‡‘/ç±³æœ/æ»¾æ»¾å„çµ¦ä¸€å¥è‡ªç„¶èªã€‚' })});
        const j = await r.json();
        res.innerHTML = `<div class="who">æ˜Ÿç’°è§£æ</div><div class="txt">${(j.reply||'...').replace(/\n/g,'<br>')}</div>`;
      }catch{ res.innerHTML = '<div class="who">æ˜Ÿç’°è§£æ</div><div class="txt">è¨Šè™Ÿæš«æ™‚å¤±çœŸï¼Œç¨å¾Œå†è©¦ã€‚</div>'; }
    });
  </script>
  <script src="js/main_v922.js"></script>
</body>
</html>
