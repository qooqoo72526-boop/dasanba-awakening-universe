
<!doctype html><html lang="zh-Hant">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>æ»¾æ»¾ï½œGUNGUN</title>
<link rel="stylesheet" href="/css/styles.css"/>
<script src="/js/scripts.js" defer></script>
<style>
.room{width:min(1100px,95vw);margin:20px auto;display:grid;gap:16px;grid-template-columns:1.1fr .9fr}
.video{border-radius:16px;overflow:hidden;box-shadow:0 10px 30px #000a;border:1px solid #ffffff15}
.story{padding:14px}
.bubble{margin:0 0 10px 0;padding:12px 14px;border-radius:14px;background:linear-gradient(180deg,#121a30,#0b1222);border:1px solid #ffffff15;box-shadow:0 20px 60px #0008}
.chat{display:flex;gap:10px;margin-top:12px}
.chat input{flex:1;padding:12px 14px;border-radius:14px;border:1px solid #ffffff22;background:linear-gradient(180deg,#101a2f,#0b1324);color:#e9f0ff}
.chat button{padding:12px 14px;border-radius:14px;border:1px solid #ffffff22;background:linear-gradient(180deg,#1f2a44,#121a2e);color:#e9f0ff}
</style>
</head>
<body>
<div class="starfield"></div>
<nav class="nav">
  <span class="chip" onclick="go('/index.html')">â† è¿”å›</span>
  <span class="chip" onclick="go('/dialogue.html')">âœ‰ï¸ é›²é–“ä¿¡ä»¶</span>
  <span class="chip" onclick="go('/soulmirror.html')">ğŸª éˆé­‚ç…§å¦–é¡</span>
</nav>

<section class="room">
  <div class="video">
    <video src="/assets/gungun.mp4" autoplay muted loop playsinline style="width:100%;height:100%;object-fit:cover"></video>
  </div>
  <div class="story">
    <div class="bubble float">æ»¾æ»¾ï¼šçœŸæ­£çš„å®‰å…¨æ„Ÿï¼Œæ˜¯è¢«ç†è§£ã€ä¸æ˜¯è¢«ä¿®æ­£ã€‚</div>
    <div class="bubble">æ»¾æ»¾æŠ±è‘—æ˜Ÿçƒçƒçƒï¼šã€æ…¢æ…¢èªªï¼Œæˆ‘åœ¨ã€‚ã€</div>

    <div class="chat">
      <input id="msg" placeholder="è·Ÿæ»¾æ»¾èªªé»ä»€éº¼â€¦"/>
      <button onclick="send()">é€å‡º</button>
    </div>
    <div id="reply" class="bubble" style="margin-top:10px"></div>
  </div>
</section>

<script>
async function send(){
  const el = document.getElementById('reply');
  const v = document.getElementById('msg').value.trim();
  if(!v) return;
  el.textContent = 'â€¦';
  try{
    const r = await fetch('/api/chat', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({persona:'Gungun', message:v})
    });
    const data = await r.json();
    el.textContent = data.reply || '(éˆæ„Ÿåœ¨èšé›†ï¼Œè«‹å†èªªä¸€æ¬¡)';
  }catch(e){
    el.textContent = '(æš«æ™‚é€£ç·šä¸åˆ°æ˜Ÿé›²ï¼Œç­‰ç­‰å†è©¦)';
  }
}
</script>
</body></html>
