
/* ====== Home Cards & Gallery Hotfix v9.3.7f ======
   Scope: homepage only (no data-page attribute).
   Goals: card 3:4, taller images, soft glow, floating hearts, clean no-border, hover float,
          gallery auto-rotate (with JS), keep your background untouched.
==================================================== */

/* ---- Card grid gaps stay compact ---- */
body:not([data-page]) section.cards{ gap: 24px; }

/* ---- Card 3:4 desktop ---- */
body:not([data-page]) section.cards .card{
  width: 300px !important;
  height: 400px !important; /* 3:4 */
  border-radius: 18px;
  overflow: hidden;
  background: rgba(255,255,255,.04);
  box-shadow: 0 10px 26px rgba(0,0,0,.18), inset 0 0 0 0 rgba(255,255,255,0);
  position: relative;
  transform: translateZ(0);
  transition: transform .25s ease, box-shadow .25s ease, filter .25s ease, opacity .25s ease;
}

/* image crop: keep head visible */
body:not([data-page]) section.cards .card img{
  width: 100%;
  height: 255px !important;
  object-fit: cover;
  object-position: 50% 18%;
  display:block;
  filter: drop-shadow(0 0 12px rgba(255,255,255,.15));
}

/* title/labels pin inside image area, readable */
body:not([data-page]) section.cards .card .label,
body:not([data-page]) section.cards .card h3{
  position: absolute;
  left: 16px;
  bottom: 12px;
  z-index: 3;
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
}

/* remove any hard borders for clean glass feel */
body:not([data-page]) section.cards .card,
body:not([data-page]) section.cards .card .quote,
body:not([data-page]) section.cards .card .tagline{
  border: none !important;
}

/* soft outer glow ring */
body:not([data-page]) section.cards .card::after{
  content:"";
  position:absolute; inset:-1px;
  border-radius:20px;
  box-shadow:
      0 0 0 1px rgba(255,255,255,.06) inset,
      0 24px 36px rgba(0,0,0,.14),
      0 0 36px rgba(180,210,255,.18);
  pointer-events:none;
}

/* floating on hover */
body:not([data-page]) section.cards .card:hover{
  transform: translateY(-9px) scale(1.01);
  box-shadow: 0 18px 42px rgba(0,0,0,.22), 0 0 42px rgba(170,210,255,.24);
  filter: brightness(1.03);
}

/* ---- Heart icon: fixed top-right + pulse float ---- */
body:not([data-page]) section.cards .card .heart,
body:not([data-page]) section.cards .card .like,
body:not([data-page]) section.cards .card .fav{
  position:absolute !important;
  top: 10px !important;
  right: 12px !important;
  transform: none !important;
  z-index: 4;
  line-height: 1;
  filter: drop-shadow(0 0 8px currentColor);
  animation: heartFloat 2.6s ease-in-out infinite, heartGlow 3.8s ease-in-out infinite;
}

/* tiny halo behind heart */
body:not([data-page]) section.cards .card .heart::after{
  content:""; position:absolute; inset:-5px;
  border-radius:50%;
  background: radial-gradient(60% 60% at 50% 50%, currentColor 0%, transparent 70%);
  opacity:.18;
  filter: blur(3px);
}

/* heart colors stay vivid */
body:not([data-page]) section.cards .card.ajin .heart{ color:#FFD54A; }
body:not([data-page]) section.cards .card.migou .heart{ color:#FF6B6B; }
body:not([data-page]) section.cards .card.gungun .heart{ color:#3EA8FF; }

@keyframes heartFloat{ 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-3px);} }
@keyframes heartGlow{
  0%,100%{ filter: drop-shadow(0 0 6px currentColor) brightness(1.0); opacity:.95; }
  50%{ filter: drop-shadow(0 0 12px currentColor) brightness(1.15); opacity:1; }
}

/* ---- Gallery: keep 16:9 frame, taller a bit; images swapped by JS ---- */
body:not([data-page]) section.gallery{ margin-top: clamp(26px, 4vw, 56px); }
body:not([data-page]) section.gallery .gframe{
  width: 98%; max-width: 1200px;
  aspect-ratio: 16 / 9;
  border-radius: 16px;
  overflow: hidden;
  display:flex; justify-content:center; align-items:center;
  box-shadow: 0 20px 28px rgba(0,0,0,.18), inset 0 0 14px rgba(255,255,255,.12);
  min-height: 38vh; /* taller */
}
body:not([data-page]) section.gallery .gimg{
  width:100%; height:auto;
  object-fit: cover;
  object-position: 50% 12%;
  display: none;
  filter: drop-shadow(0 12px rgba(255,255,255,.15));
}
body:not([data-page]) section.gallery .gimg.active{ display:block; animation: galleryFade 1.1s ease; }
@keyframes galleryFade{ from{opacity:0; transform:scale(1.01)} to{opacity:1; transform:scale(1)} }

/* ---- Responsive (keeps 3:4) ---- */
@media (max-width:1024px){
  body:not([data-page]) section.cards{ gap:16px; }
  body:not([data-page]) section.cards .card{ width: 28vw !important; height: calc(28vw * 4 / 3) !important; }
  body:not([data-page]) section.cards .card img{ height: calc(28vw * .78) !important; }
}
@media (max-width:768px){
  body:not([data-page]) section.cards{ grid-template-columns: repeat(1, minmax(0,1fr)); gap:12px; }
  body:not([data-page]) section.cards .card{ width: 46vw !important; height: calc(46vw * 4 / 3) !important; }
  body:not([data-page]) section.cards .card img{ height: calc(46vw * .78) !important; }
}
