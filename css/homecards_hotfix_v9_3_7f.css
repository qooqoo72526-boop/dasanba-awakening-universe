/* v9.3.7f — Homepage card & gallery only (safe hotfix; no bg change) */

/* 卡片區：三欄、間距一致 */
section.cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: clamp(14px, 2vw, 22px);
  align-items: stretch;
}

/* 卡片容器：回到直立比例、柔和浮動＋光暈 */
section.cards .card{
  position: relative;
  aspect-ratio: 3 / 4;         /* 直立 */
  min-height: 320px;
  border-radius: 20px;
  overflow: hidden;
  transform: translateY(0);
  animation: cardFloat 6s ease-in-out infinite;
  box-shadow: 0 10px 26px rgba(0,0,0,.18), inset 0 0 0 1px rgba(255,255,255,.06);
}

/* 外圈柔光（無邊框感） */
section.cards .card::after{
  content:"";
  position:absolute; inset:-2px;
  pointer-events:none;
  background: radial-gradient(120% 120% at 50% -10%, rgba(255,255,255,.16) 0%, rgba(255,255,255,0) 40%),
              radial-gradient(100% 100% at 50% 110%, rgba(255,255,255,.10) 0%, rgba(255,255,255,0) 55%);
  filter: blur(4px);
}

/* 圖片：保持 3:4 視覺不切頭 */
section.cards .card img{
  width:100%; height: 66%;
  display:block;
  object-fit: cover;
  object-position: 50% 18%;
  filter: drop-shadow(0 0 14px rgba(255,255,255,.22));
}

/* 文字區域置底、保持閱讀性 */
section.cards .card h3,
section.cards .card .tagline,
section.cards .card .quote{
  margin: 2px 0;
  text-align: center;
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
}

/* 愛心：固定左上角 + 微跳動 + 自帶淡光 */
section.cards .card .heart{
  position:absolute;
  top:10px; left:12px;
  line-height:1; font-size:16px;
  filter: drop-shadow(0 0 8px currentColor);
  animation: heartPulse 2.4s ease-in-out infinite;
  z-index:2;
}

/* 滑過卡片：輕飄起＋加亮 */
section.cards .card:hover{
  transform: translateY(-6px);
  box-shadow: 0 20px 36px rgba(0,0,0,.22), inset 0 0 0 1px rgba(255,255,255,.08);
}

/* 畫廊：只顯示 .active；其餘隱藏。維持 16:9 框、下緣留白延伸 */
section.gallery .gframe{
  width: 90%; max-width: 1200px; aspect-ratio: 16 / 9;
  border-radius:16px; overflow:hidden;
  margin: clamp(36px, 4vh, 56px) auto 0;
  box-shadow: 0 0 12px rgba(255,255,255,.15);
}
section.gallery .gimg{ display:none; width:100%; height:100%; object-fit:cover; object-position:50% 12%; }
section.gallery .gimg.active{ display:block; animation: galleryFade .9s ease; }

/* RWD：寬度變窄時卡片維持 3:4、間距縮小 */
@media (max-width:1024px){
  section.cards{ gap:16px; }
}
@media (max-width:768px){
  section.cards{ grid-template-columns: 1fr; gap:12px; }
  section.cards .card{ aspect-ratio: 3 / 4; min-height: 72vw; }
  section.cards .card img{ height: 68%; }
}

/* Keyframes */
@keyframes heartPulse{
  0%,100%{ transform: translateY(0) scale(1); filter: drop-shadow(0 0 8px currentColor) brightness(1); }
  50%{ transform: translateY(-1px) scale(1.06); filter: drop-shadow(0 0 14px currentColor) brightness(1.15); }
}
@keyframes cardFloat{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-4px); }
}
@keyframes galleryFade{
  from{ opacity:0; transform: scale(1.01); }
  to{ opacity:1; transform: scale(1); }
}
