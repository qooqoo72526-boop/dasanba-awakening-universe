/*****************************************
 * SOUL MIRROR ï½œéˆé­‚ç…§å¦–é¡ å°ˆç”¨æ¨£å¼ï¼ˆä¹¾æ·¨ç‰ˆï¼‰
 * åªä½œç”¨åœ¨ html.page--soulmirror ï¼‹ body[data-page="soulmirror"]
 *****************************************/

/* === åŸºæœ¬ä¸»é¡Œï¼šç´«è—å®‡å®™èƒŒæ™¯ === */

html.page--soulmirror,
html.page--soulmirror body{
  margin:0;
  padding:0;
  min-height:100%;
  background:
    radial-gradient(1200px 600px at 15% 10%, rgba(180,190,255,.28), transparent 55%),
    radial-gradient(1200px 600px at 85% 90%, rgba(120,180,255,.25), transparent 60%),
    linear-gradient(180deg, #111735 0%, #161d48 45%, #05091f 100%);
  color:#E6EEFF;
  font-family:"Noto Sans TC", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* æ˜Ÿç©ºç•«å¸ƒ */
#starfield{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* === 3.5 ç§’é–‹å ´å‹•ç•« === */

#intro{
  position:fixed;
  inset:0;
  z-index:9999;
  display:grid;
  place-items:center;
  background:
    radial-gradient(1200px 680px at 50% 40%, rgba(160,170,255,.15), transparent 70%),
    linear-gradient(180deg, #0d1028 0%, #050617 100%);
  animation:introFade 3.5s ease forwards;
}

#intro .logo{
  text-align:center;
  letter-spacing:.16em;
  font-family:"Orbitron", ui-sans-serif;
  font-size:clamp(22px, 3vw, 34px);
  color:#F5F6FF;
}

#intro .sub{
  margin-top:10px;
  text-align:center;
  font-size:clamp(12px, 2vw, 16px);
  opacity:.85;
  font-style:italic;
  color:rgba(220,230,255,.9);
}

@keyframes introFade{
  0%{opacity:1; filter:blur(0);}
  80%{opacity:1;}
  100%{opacity:0; visibility:hidden; filter:blur(2px);}
}

/* === å·¦å´å·¥å…·åˆ—ï¼ˆç…§é¦–é ç‰ˆï¼Œå›ºå®šåœ¨å·¦é‚Šï¼‰ === */

body[data-page="soulmirror"] .toolbox.nav-trail{
  position:fixed;
  left:16px;
  top:50%;
  transform:translateY(-50%);
  display:grid;
  gap:10px;
  z-index:20;
}

body[data-page="soulmirror"] .toolbox.nav-trail .tool{
  display:grid;
  place-items:center;
  width:34px;
  height:34px;
  border-radius:10px;
  background:rgba(10,18,60,.78);
  box-shadow:0 8px 20px rgba(0,0,0,.55);
  backdrop-filter:blur(8px);
  text-decoration:none;
}

body[data-page="soulmirror"] .toolbox.nav-trail .tool .ico{
  font-size:17px;
  color:rgba(235,240,255,.96);
}

body[data-page="soulmirror"] .toolbox.nav-trail .tool .txt{
  display:none;   /* åªç•™åœ–ç¤ºï¼Œå°å°ä¸€é¡†å°±å¥½ */
}

/* === ç‰ˆå¿ƒå®¹å™¨ === */

.mirror-wrap{
  position:relative;
  z-index:1;
  width:min(980px, 92vw);
  margin:clamp(80px, 9vh, 110px) auto 90px;
}

/* === æ¨™é¡Œï¼šä¸­æ–‡ï¼‹ğŸªï¼‹è‹±æ–‡ åŒä¸€è¡Œï¼Œå¸¶é­”æ³•å…‰æšˆ === */

.subheading{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  margin:0 auto 24px;
  animation:titleFloat .6s ease-out both;
}

.subheading .zh{
  font-weight:600;
  font-size:clamp(22px, 3vw, 32px);
  letter-spacing:4px;
}

.subheading .en{
  font-family:"Orbitron", ui-sans-serif;
  font-weight:500;
  font-size:clamp(18px, 2.4vw, 24px);
  letter-spacing:.22em;
  color:rgba(218,226,255,.95);
}

/* æ¨™é¡Œåº•ä¸‹çš„ç´«è‰²éœ§å…‰ */
.subheading::before{
  content:"";
  position:absolute;
  inset:-40px -120px;
  background:
    radial-gradient(circle at 0% 50%, rgba(210,170,255,.40), transparent 60%),
    radial-gradient(circle at 100% 40%, rgba(130,200,255,.36), transparent 65%);
  opacity:.85;
  filter:blur(26px);
  z-index:-1;
}

/* é¡å­ emojiï¼šå¾®å¾®ä¸Šä¸‹é£„ */
.icon-inline.mirror{
  display:inline-block;
  font-size:1.2em;
  margin:0 4px;
  filter:drop-shadow(0 0 10px rgba(210,200,255,.95));
  animation:floatIcon 3.4s ease-in-out infinite;
}

/* === é­”æ³•å‰å°æ–‡å­— === */

.magic-lines{
  text-align:center;
  margin:10px auto 28px;
  opacity:.95;
}

.magic-lines .txt.zh{
  font-size:14px;
  letter-spacing:.12em;
  color:rgba(230,235,255,.96);
  margin-bottom:6px;
}

.magic-lines .txt.en{
  font-size:13px;
  letter-spacing:.08em;
  font-style:italic;
  color:rgba(215,225,255,.88);
}

/* é­”æ³•æ£’ emojiï¼šç´«å…‰å¾®æ“ºå‹• */
.magic-lines .wand{
  display:inline-block;
  margin-right:6px;
  font-size:1.1em;
  filter:drop-shadow(0 0 8px rgba(220,170,255,.95));
  animation:wandSparkle 2.2s ease-in-out infinite;
}

/* === 25 é¡Œï¼šé­”æ³•æ°£æ³¡ï¼Œä¸è¦æ ¼ç·šã€ä¸è¦é‚Šæ¡† === */

.question-grid{
  max-width:980px;
  margin:40px auto 10px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:18px;
}

.option{
  position:relative;
  min-width:180px;
  max-width:260px;
  padding:14px 16px 18px;
  border-radius:999px;
  border:none;
  line-height:1.4;
  cursor:pointer;
  user-select:none;
  white-space:normal;

  background:
    radial-gradient(circle at 0% 0%, rgba(255,255,255,.20), rgba(170,160,255,.15) 40%, rgba(60,20,120,.70) 75%);
  box-shadow:
    0 0 0 1px rgba(180,200,255,.18),
    0 14px 40px rgba(5,10,40,.85);
  backdrop-filter:blur(12px);

  color:rgba(244,248,255,.96);
  font-size:13px;
  letter-spacing:.03em;
  opacity:.96;

  transition:
    transform .25s ease,
    box-shadow .25s ease,
    background .25s ease,
    opacity .25s ease;
}

/* å•é¡Œè™Ÿç¢¼ï¼‹ twist æ–‡å­—éƒ½ç¶­æŒ JS çš„ span æ¨™ç±¤ */
.option span.q{
  font-weight:600;
}
.option span.twist{
  opacity:.9;
}

/* hoverï¼šç¨å¾®æµ®èµ·ä¾†ï¼Œå…‰æ›´äº® */
.option:hover{
  transform:translateY(-4px);
  box-shadow:
    0 0 0 1px rgba(210,230,255,.32),
    0 20px 60px rgba(20,30,80,.95);
  background:
    radial-gradient(circle at 5% 0%, rgba(255,255,255,.26), rgba(190,170,255,.24) 40%, rgba(80,40,150,.85) 75%);
  opacity:1;
}

/* === è§£æå€ï¼šç»ç’ƒæ„Ÿé•·æ¢ ï¼‹ ä¸‰é³¥ä¸€å¥è©± === */

.result-box{
  max-width:980px;
  margin:44px auto 28px;
  padding:20px 22px;
  border-radius:24px;
  border:none;
  background:
    linear-gradient(135deg, rgba(55,40,140,.26), rgba(25,22,70,.80));
  box-shadow:
    0 0 0 1px rgba(165,190,255,.20),
    0 26px 80px rgba(0,0,0,.80);
}

.result-box .txt{
  font-size:15px;
  line-height:1.9;
  letter-spacing:.03em;
  white-space:pre-line;
  color:rgba(235,240,255,.96);
}

/* ä¸‰é³¥ */
.result-box .three{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr));
  gap:12px;
  margin-top:16px;
  font-size:13px;
  letter-spacing:.04em;
  color:rgba(215,225,255,.92);
}

.result-box .three .bird-line{
  display:flex;
  align-items:center;
  gap:6px;
}

.result-box .three .bird-line::before{
  content:"";
  width:6px;
  height:6px;
  border-radius:99px;
  background:radial-gradient(circle, rgba(255,255,255,.9), rgba(200,220,255,.1));
}

/* === å‹•ç•« keyframes === */

@keyframes titleFloat{
  0%{
    transform:translateY(8px) scale(.97);
    opacity:0;
    filter:blur(3px);
  }
  100%{
    transform:translateY(0) scale(1);
    opacity:1;
    filter:blur(0);
  }
}

@keyframes floatIcon{
  0%,100%{ transform:translateY(0); }
  50%{ transform:translateY(4px); }
}

@keyframes wandSparkle{
  0%{
    transform:translateY(0) rotate(-8deg);
    filter:drop-shadow(0 0 4px rgba(210,170,255,.6));
  }
  40%{
    transform:translateY(-3px) rotate(6deg);
    filter:drop-shadow(0 0 12px rgba(245,220,255,1));
  }
  100%{
    transform:translateY(0) rotate(-4deg);
    filter:drop-shadow(0 0 6px rgba(210,170,255,.7));
  }
}

/* æ‰‹æ©Ÿï¼šé¡Œç›®ç¨å¾®æ”¾å¤§ï¼†å–®æ¬„ */
@media (max-width:768px){
  .mirror-wrap{
    width:92vw;
    margin:72px auto 70px;
  }
  .question-grid{
    gap:14px;
  }
  .option{
    max-width:100%;
  }
  .result-box .three{
    grid-template-columns:1fr;
  }
}
