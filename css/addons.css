
/* ===== NON-DESTRUCTIVE ADD-ONS =====
   - Does NOT change your existing homepage background/structure.
   - Adds: left vertical constellation toolbar (no borders), glow halos,
           bubble chat, subtle glassmorphism, starfield + meteors,
           small silver-blue headings, micro animations.
   - Safe to include on every page.
*/

:root{
  --silver: rgba(240,244,255,0.92);
  --silver-soft: rgba(240,244,255,0.70);
  --silver-dim: rgba(210,220,235,0.38);
  --ink: rgba(14,18,28,0.88);
  --ink-40: rgba(14,18,28,0.40);
  --blue-ice: #a9c7ff;
  --blue-soft: #9ec4ff;
  --accent-gold: #ffd46b;
  --accent-pink: #ff9ed1;
  --accent-azure: #8ac9ff;
  --glow: 0 0 18px rgba(180,210,255,0.45), 0 0 44px rgba(150,190,255,0.25);
}

html,body{margin:0;padding:0}
body{font-family: 'Noto Sans TC', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color: var(--silver);}

/* ===== universal small silver headings (used on subpages) ===== */
.subheading{
  font-weight: 300;
  letter-spacing: .12em;
  text-align: center;
  color: var(--silver);
  opacity: .88;
  text-shadow: 0 0 10px rgba(180,210,255,.25);
}

/* ===== left constellation toolbar ===== */
.constellation-toolbar{
  position: fixed;
  top: 6vh; /* slightly below top */
  left: 22px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 6000;
}
.constellation-toolbar a{
  width: 40px;height: 40px;
  display: grid; place-items: center;
  text-decoration: none;
  border-radius: 14px;
  background: radial-gradient(120% 120% at 20% 20%, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  outline: none;border: none;
  box-shadow: none;
  transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
}
.constellation-toolbar a svg{
  width: 22px;height: 22px;
  stroke: var(--silver); fill: none; stroke-width: 1.5;
  filter: drop-shadow(0 0 6px rgba(170,200,255,.35));
  opacity: .9;
}
.constellation-toolbar a:hover{
  transform: translateY(-2px);
  box-shadow: var(--glow);
  background: radial-gradient(140% 140% at 20% 20%, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
}

/* ===== glass bubble (no borders) ===== */
.glass-bubble{
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
  border: none;
  border-radius: 20px;
  box-shadow: 0 6px 36px rgba(90,120,200,0.20), 0 0 60px rgba(140,170,255,0.18);
}

/* ===== starfield canvas ===== */
#starfield, .starfield{
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
}

/* ===== page-specific base gradients (safe; do not affect homepage file) ===== */
.page--poststation{
  /* deeper silver-blue for Post Station (not pure white) */
  background: radial-gradient(120% 140% at 50% 0%, rgba(210,224,255,0.16), rgba(40,56,92,0.50)),
              linear-gradient(180deg, rgba(200,220,255,0.10) 0%, rgba(32,46,82,0.62) 85%);
}
.page--soulmirror{
  /* silver with a soft violet tint */
  background: radial-gradient(120% 140% at 50% 0%, rgba(231,222,255,0.22), rgba(54,44,90,0.52)),
              linear-gradient(180deg, rgba(226,216,255,0.12) 0%, rgba(38,30,74,0.60) 85%);
}

/* ===== centered chat column (no hard borders) ===== */
.chat-wrap{
  max-width: 760px;
  margin: 12vh auto 14vh;
  padding: 12px;
}
.chat-title{
  text-align: center;
  margin-bottom: 10px;
}
.chat-title .en{
  font-style: italic; font-weight: 300; letter-spacing: .2em;
}
.chat-preamble{ text-align:center; margin: 8px auto 22px; opacity:.90; }
.chat-preamble .strong{ font-weight:700; letter-spacing:.12em; }

.messages{
  display: flex; flex-direction: column; gap: 10px;
  padding: 8px 6px;
}
.msg{
  max-width: 80%;
  padding: 12px 14px;
  border-radius: 14px 14px 16px 6px;
  line-height: 1.6;
  animation: floatIn .25s ease both;
  position: relative;
}
.msg.you{ align-self: flex-end; border-radius: 14px 14px 6px 16px; }
.msg .who{
  font-size: 12px; opacity: .65; margin-bottom: 6px;
}
.msg .txt{ font-size: 14px; }
.msg.ajin   { background: rgba(255,212,107,0.12); box-shadow: 0 0 40px rgba(255,212,107,.18); }
.msg.migou  { background: rgba(255,158,209,0.12); box-shadow: 0 0 40px rgba(255,158,209,.18); }
.msg.gungun { background: rgba(138,201,255,0.12); box-shadow: 0 0 40px rgba(138,201,255,.18); }
.msg.you    { background: rgba(255,255,255,0.08); box-shadow: 0 0 40px rgba(255,255,255,.12); }

@keyframes floatIn{
  from{ transform: translateY(6px); opacity:0 }
  to{ transform: translateY(0); opacity:1 }
}

/* avatar glow rings */
.avatar{
  width: 28px;height: 28px;border-radius: 50%;
  margin-right: 8px; vertical-align: middle; object-fit: cover;
  box-shadow: 0 0 0 3px rgba(255,255,255,0.08), 0 0 16px rgba(160,190,255,0.35);
}
.avatar.ajin{ box-shadow: 0 0 0 3px rgba(255,236,175,.12), 0 0 20px rgba(255,212,107,.45); }
.avatar.migou{ box-shadow: 0 0 0 3px rgba(255,206,232,.12), 0 0 20px rgba(255,158,209,.45); }
.avatar.gungun{ box-shadow: 0 0 0 3px rgba(192,230,255,.12), 0 0 20px rgba(138,201,255,.45); }

/* input area with constellation arrow */
.input-row{
  display: grid; grid-template-columns: 1fr auto; gap: 10px;
  margin-top: 12px;
}
.input-row input{
  background: rgba(255,255,255,0.06);
  border: none; border-radius: 12px;
  padding: 14px 16px; color: var(--silver);
  outline: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08), 0 8px 30px rgba(140,170,255,0.18);
}
.send-btn{
  width: 48px;height: 48px;border-radius: 14px; border: none; cursor: pointer;
  background: radial-gradient(120% 120% at 20% 20%, rgba(255,255,255,0.18), rgba(255,255,255,0.06));
  box-shadow: 0 6px 22px rgba(150,180,255,.25);
}
.send-btn svg{ width: 22px;height: 22px; stroke: var(--silver); fill:none; stroke-width:1.6 }

/* ===== Soul Mirror layout ===== */
.mirror-wrap{
  max-width: 860px;
  margin: 10vh auto 16vh;
  padding: 14px;
}
.magic-lines{
  text-align:center; margin-bottom: 12px;
}
.magic-lines .wand{ filter: drop-shadow(0 0 12px rgba(210,180,255,.45)); }
.question-grid{
  display:grid; gap:12px; grid-template-columns: 1fr;
  margin: 18px auto;
}
.option{
  padding: 12px 14px; border-radius: 14px;
  background: rgba(255,255,255,0.06);
  box-shadow: 0 10px 32px rgba(160,140,255,0.16);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  cursor: pointer;
}
.option:hover{
  transform: translateY(-2px);
  box-shadow: 0 16px 40px rgba(190,170,255,0.28);
  background: rgba(255,255,255,0.10);
}
.result-box{ margin-top:18px; padding:16px; border-radius:16px; background: rgba(255,255,255,0.06) }
.result-box .three{ display:flex; gap:10px; align-items:center; }
.result-box img{ width:28px; height:28px; border-radius:50%; object-fit:cover; }

/* ===== responsive ===== */
@media (min-width: 720px){
  .question-grid{ grid-template-columns: 1fr 1fr; }
}
