/* v9.3.5_homecards_hotfix â€” Homepage cards only (no background changes) */
/* Safe add-on: link this CSS after your existing universe.css/style.css */

/* Scope to homepage only if you already use a marker; fallback keeps it narrow */
body[data-page="home"] .character-cards,
body.home .character-cards,
.character-cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: clamp(14px, 2vw, 22px);
  align-items: stretch;
}

/* Card container: unified aspect ratio to avoid weird heights */
.character-card {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  /* Keep your original glass/border; don't redefine background */
  aspect-ratio: 5 / 6;            /* portrait-ish, avoids 'éŽå¯¬' */
  min-height: 260px;
}

/* Image should never crop heads: use contain + per-bird offsets */
.character-card img {
  width: 100%;
  height: 100%;
  object-fit: contain;             /* no cropping */
  object-position: center top;     /* bias to top soé ­éƒ¨ä¸è¢«åˆ‡ */
  display: block;
  transform: translateZ(0);
}

/* Per-bird fine-tune (auto-added class via JS) */
.character-card.ajin img   { object-position: 50% 8%; }
.character-card.migou img  { object-position: 50% 10%; }
.character-card.gungun img { object-position: 50% 12%; }

/* Heart icon: always pinned to top-right, consistent offset */
.character-card .heart,
.character-card .like,
.character-card .fav {
  position: absolute !important;
  top: 10px !important;
  right: 12px !important;
  transform: none !important;
  z-index: 3;
  pointer-events: auto;
}

/* Title/labels inside card remain readable atop images */
.character-card .label,
.character-card .title {
  position: absolute;
  left: 12px; bottom: 10px;
  z-index: 3;
  /* do not change fonts/colors; just ensure readability */
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
}

/* Responsive: stack on small screens */
@media (max-width: 900px){
  .character-cards{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px){
  .character-cards{ grid-template-columns: 1fr; }
  .character-card{ aspect-ratio: 4 / 5; }
}
/* ===== v9.3.7f HOME ULTRA PATCH â€” å¡ç‰‡ 3:4 + æ„›å¿ƒå›žä½ + æ¨™é¡Œ/ç•«å»Šå¾®èª¿ ===== */

/* å¡ç‰‡å®¹å™¨é–“è·ä¸€è‡´ */
html body:not([data-page]) section.cards{
  display:flex !important; flex-wrap:wrap !important; justify-content:center !important;
  gap:clamp(12px,2vw,20px) !important; margin-top:6px !important;
}

/* å¡ç‰‡æœ¬é«”ï¼šå¼·åˆ¶ 3:4ï¼ˆæœçµ•æ­£æ–¹å½¢ï¼‰ */
html body:not([data-page]) section.cards>article.card{
  width:clamp(260px,25vw,320px) !important;
  aspect-ratio:3/4 !important; height:auto !important;
  display:flex !important; flex-direction:column !important;
  border-radius:18px !important; overflow:hidden !important;
  position:relative !important;
  transition:transform .25s ease, box-shadow .25s ease !important;
}
html body:not([data-page]) section.cards>article.card:hover{
  transform:translateY(-6px) !important;
  box-shadow:0 0 36px rgba(255,255,255,.18) !important;
}

/* å¡ç‰‡åœ–ç‰‡ï¼šå›ºå®šä¸ŠåŠ 65%ï¼Œé¿å…å¡é ­ */
html body:not([data-page]) section.cards>article.card>img{
  flex:0 0 65% !important; width:100% !important; height:auto !important;
  object-fit:cover !important; object-position:50% 18% !important; display:block !important;
  filter:drop-shadow(0 0 14px rgba(255,255,255,.28)) !important;
}

/* åç¨±ï¼‹æ„›å¿ƒï¼šæŠŠèˆŠçš„ .heart éš±è—ï¼Œæ”¹ç”¨æ¨™é¡Œå‰ç½®+æŸ”å…‰ */
html body:not([data-page]) section.cards>article.card .heart{display:none !important;}
html body:not([data-page]) section.cards>article.card h3{
  display:inline-flex !important; align-items:center !important; justify-content:center !important;
  gap:6px !important; white-space:nowrap !important; text-align:center !important;
  font-size:clamp(16px,1.8vw,20px) !important;
}
@keyframes heartBeat{0%,100%{transform:translateY(1px) scale(1);opacity:.95}50%{transform:translateY(0) scale(1.1);opacity:1}}
html body:not([data-page]) section.cards>article.card.ajin   h3::before{content:"ðŸ’›";color:#FFD84D;filter:drop-shadow(0 0 8px currentColor) drop-shadow(0 0 14px currentColor);animation:heartBeat 1.8s ease-in-out infinite;}
html body:not([data-page]) section.cards>article.card.migou  h3::before{content:"ðŸ§¡";color:#FF925A;filter:drop-shadow(0 0 8px currentColor) drop-shadow(0 0 14px currentColor);animation:heartBeat 1.8s ease-in-out infinite;}
html body:not([data-page]) section.cards>article.card.gungun h3::before{content:"ðŸ’™";color:#6DB7FF;filter:drop-shadow(0 0 8px currentColor) drop-shadow(0 0 14px currentColor);animation:heartBeat 1.8s ease-in-out infinite;}

/* ç•«å»Šæ¨™é¡Œï¼šç½®ä¸­ï¼‹ä¸Š/ä¸‹é–“è·ä¸€è‡´ */
html body:not([data-page]) section.gallery>h4,
html body:not([data-page]) #gallery.gallery>h4{
  text-align:center !important; margin:12px 0 10px !important; letter-spacing:.08em !important; font-weight:600 !important;
}

/* ç•«å»Šå¤–æ¡†ï¼šç¶­æŒ 16:9 ç½®ä¸­é¡¯ç¤º */
html body:not([data-page]) section.gallery{margin-top:clamp(32px,4vh,48px) !important; display:flex !important; justify-content:center !important;}
html body:not([data-page]) section.gallery .gframe{
  width:90% !important; max-width:1200px !important; aspect-ratio:16/9 !important;
  border-radius:16px !important; overflow:hidden !important;
}
html body:not([data-page]) section.gallery .gimg{
  width:100% !important; height:100% !important; display:block !important;
  object-fit:cover !important; object-position:50% 12% !important;
}

/* æ‰‹æ©Ÿè£œå¼· */
@media (max-width:768px){
  html body:not([data-page]) section.cards>article.card{width:88vw !important; max-width:360px !important;}
  html body:not([data-page]) section.cards>article.card>img{flex:0 0 62% !important; object-position:50% 16% !important;}
}
