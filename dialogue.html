
<!doctype html><html lang="zh">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>âœ‰ï¸ é›²é–“ä¿¡ä»¶ï½œCloud Letters</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css"/></head>
<body>
<canvas id="stars"></canvas><canvas id="dust"></canvas>
<div class="topbar"><a href="index.html">âŸµ</a><span class="dot"></span><button onclick="AppLang.set('zh')">ä¸­</button><button onclick="AppLang.set('en')">EN</button></div>

<section class="center" style="padding-top:80px">
  <div class="cloud-bubble" data-lang="zh">
    æƒ³æŠŠå¿ƒäº‹æ”¾ä¸Šé›²ï¼Œå°±å¾ä¸€å¥çœŸè©±é–‹å§‹ã€‚
  </div>
  <div class="cloud-bubble display-en" style="display:none" data-lang="en">
    Say one honest line. Let the cloud carry it.
  </div>
</section>

<section style="max-width:860px;margin:20px auto;padding:0 20px">
  <div class="chat-row">
    <div class="avatar"></div>
    <div class="cloud-bubble" id="reply">â€¦</div>
  </div>
  <div class="chat-row">
    <select id="persona" class="btn">
      <option value="migou">ğŸ©· ç±³æœ</option>
      <option value="ajin">ğŸ’› é˜¿é‡‘</option>
      <option value="gungun">ğŸ©µ æ»¾æ»¾</option>
    </select>
    <input id="msg" placeholder="æ‰“å¹¾å€‹å­—å°±å¥½" style="flex:1;border:none;background:var(--glass);color:var(--fg);padding:10px 12px;border-radius:12px; margin:0 8px; outline:none"/>
    <button class="btn" onclick="send()">é€å‡º</button>
  </div>
</section>

<audio id="bgm" src="assets/bgm_universe.mp3" loop></audio>
<script src="js/scripts.js"></script>
<script>
AppLang.init(); Music.init('bgm');
async function send(){
  const message = document.getElementById('msg').value.trim();
  if(!message) return;
  const persona = document.getElementById('persona').value;
  document.getElementById('reply').textContent = 'â€¦ç©¿è¶Šé›²å±¤ä¸­';
  try{
    const r = await fetch('/api/chat.js',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({message, persona})});
    const j = await r.json();
    document.getElementById('reply').textContent = j.reply || 'â€¦é›²å±¤å¤ªåšï¼Œç­‰ç­‰å†è©¦';
  }catch(e){
    document.getElementById('reply').textContent = 'â€¦æ˜Ÿéš›é€£ç·šå»¶é²ï¼Œç­‰ç­‰å†è©¦';
  }
}
</script>
</body></html>
