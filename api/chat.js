export const config={runtime:"edge",regions:["sin1","hnd1","icn1"]};
export default async function handler(req){try{const {messages}=await req.json();const k=process.env.OPENAI_API_KEY;if(!k)return new Response(JSON.stringify({error:"Missing OPENAI_API_KEY"}),{status:500});const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Authorization":`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages,temperature:0.6})});const data=await r.json();return new Response(JSON.stringify(data),{status:200,headers:{"Content-Type":"application/json"}});}catch(e){return new Response(JSON.stringify({error:String(e)}),{status:500});}}